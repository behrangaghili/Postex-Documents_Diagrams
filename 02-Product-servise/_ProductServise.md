# تعریف سرویس ها (Product servise)  

وظیقه اصلی این سرویس تعریف کوریر های پستی مثل کالا رسان ، پست پیشتاز و ... همچنین اعمال محدودیت های هر سرویس را برعهده دارد.

---
- [تعریف سرویس ها (Product servise)](#تعریف-سرویس-ها-product-servise)
  - [COURIER Service](#courier-service)
    - [متد های , انتیتی های موجود در بخش تعریف سرویس ها](#متد-های--انتیتی-های-موجود-در-بخش-تعریف-سرویس-ها)
  - [Pricing Service](#pricing-service)

---


## COURIER Service

 این سرویس وظیفه ساخت سرویس های پستی را بر عهده دارد ، هر سرویسی که ثبت می شود یک سری آیتم می توان برای سرویس مورد نظر انتخاب کرد که این آیتم ها به شرح زیر می باشند

- شرکت های کرویر پستی
  - محدویت داخلی یا خارجی (ForighnPost and DomesticPost Limit)
  - جمع آوری دارد (HasCollection)
  - بین شهری یا داخل شهری (InnerCity and BetweenCity)
  - توزیع دارد (HasDistribution)
  - فعال یا غیر فعال بودن (IsActive)
  - قیمت دهی (CourierZonePricesSLA)
    - تعریف زون (CourierZone)
    - اختصاص شهر یا استان به زون
    - تعریف قیمت براساس زون مبدا و مقصد و وزن و حجم
    - مدت زمان ارسال براساس زون مبدا و مقصد SLA تعریف(SLA)
  - نوع مرسوله ( داکیومنت و نان داکیومنت )
  - نوع بسته بندی (شکستنی و غیر  شکستنی)
  - ای پی آی دارد یا خیر (HasApi)
  - نوع پرداخت (cod,پس کرایه ,پیش کرایه) ()
  - COD دارد یا خیر (CodPayment)
  - مکان جغرافیایی (NeedLatLon)
  - رهگیری کوریر ها (CourierStatusMapping)
  - محدودبت کرویر ها (CourierLimit)
    - محدویت های وزنی (حداقل و حداکثر وزنی که ارسال میکنند) (WeightLimit)
    - محدودیت های ابعادی (VolumeLimit)
    - محدودیت تعداد جمع آوری و توزیع (NumOfCollectionAdnDistribution)
    - محدودیت در سیستم توزیع (DistributionLimit)
    - محدودیت در سیستم جمع آوری (CollectionLimit)
    - بیمه کوریر ها (حداکثر و حداقل) (LowerLimit and UpperLimit)
- توزیع پستکس (HasDistribution)
- جمع آوری پستکس (HasCollection)
- شهر فرستنده و گیرنده برای هر کوریر(CourierCity)

---
به عنوان مثال شرکت ملی پست محدودیت وزنی از 30 گرم تا 30 کیلو دارد و
 از لحاظ ابعاد حداکثر 1 متر
 از لحاظ نوع بسته بندی شکستنی ارسال نمیکنه
 سیستم جمع آوری دارد ولی برای سفارشات انبوه
 نوع مرسوله ارسالی در شرکت ملی پست هم به صورت داکیومنت است هم نان داکیومنت
 توزیع به همه شهر ها دارد
 مدت رمان ارسال هم از 3 تا 9 روز می باشد
نوع پرداخت پس کرایه ، پیش کرایه ، COD و پردخت رایگان  دارد
در مورد زون های خاص مثلا بنادر ارسال فقط اسناد دارد
در تعریف ویژگی های بالا دو قیمت وارد می کنیم یک هزینه خرید و دو قیمت پرداختی به نماینده ها

در نهایت خروجی  که ما از این سرویس دریافت می کنیم :
بیمه + خدمات cod + خدمات پستی

### متد های , انتیتی های موجود در بخش تعریف سرویس ها

[متد های قابل تعریف](Diagrams/ProductServiceMethod.drawio)

- CeateProductionService:
  این متد به منظور ساخت سرویس ها مورد استفاده می گیرد . ورودی را از دیتابیس می گیرد و سرویس ها را ایجاد می کند
- EditProductService :
  متدی جهت ویرایش سرویس های عریف شده

[دیتابیس تعریف سرویس](Diagrams/Product.drawio)
![دیتابیس تعریف سرویس](imgs/Product.png)

## Pricing Service

سیستم قیمت دهی سرویس ها که با استفاده از ارتباط با وندور ها و شرکت های پستی با استفاده از منطقه جغرافیایی و طول مسافت . همچنین وزن مرسوله قیمت با نمایش می دهد .

[متد های بخش قیمت سرویس ها](Diagrams/PricingServiceMethod.drawio)

- GetEigibleService :
   دریافت لیست سرویس ها با توجه به ورودی های کاربر
- GetPriceFrom"ServiceName"
  استعلام قیمت سرویس دهنده های پستی  
- PriceManipulation
  این متد وظیفه اصلاح قیمت های خام که از سمت سرویس دهنده های پستی می شود را برعهده دارد و قیمت نهایی را به کاربر نشان می دهد


