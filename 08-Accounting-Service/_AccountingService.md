# Accounting service

## مقدمه

تمامی اتفاقات مالی شامل تعریف قراردادهای مختلف مبتنی بر آنچه اکنون کار می شود، پرداختی های آنلاین و غیر آنلاین، تسهیم وجود در کیف پول، گیفت کارتها، پروموشن های تشویقی، تخفیفات در این سرویس انجام خواهد شد. لیزینگ نیز در این بخش تعریف خواهد شد
در فرایند اکانتینگ بعد از ثبت سفارش در ابتدا بخش مربوط به کانترکت بررسی می شود و با توجه به قرارداد افرادی زی نفع ثبت سفارش درصد های خود را دریافت خواهند کرد به عنوان مثال بعد از ثبت سفارش  نماینده و جمع آور سفارش مشخص می شود و اگر سفارش شامل بسته بندی بود درصد آن مشخص شده و سهم شرکت هم مشخص می شود

---

## Feature

- Cashout
- Wallet
- Refound
- Financial promotion
- Gifts

---

## موجودیت ها

### FinancilaTransactionDeitals

- Id
  شناسه
- parcelId
  شناسه سفارش
- TypeId
  شناسه نوع درخواست
- Amount
  مبلغ پرداختی
- Date
  تاریخ ثبت
- Description
  توضیحات
- CustomerId
  شناسه مشتری
- ContractId
  شناسه قرارداد
- PocketId
  شناسه جیب
- TransactionNumber
  شماره تراکنش

### PocketType

- Id
  شناسه
- Name
  نام
- PocketId
  شناسه جیب
- TransactionTypeId
  شناسه نوع پرداخت

### TransactionType

- Id
  شناسه
- Name
  نام

### Pocket

- Id
  شناسه
- Name
  نام

### Wallet

- Id
  شناسه
- FinancialtransactionDeitalsId
  شناسه جزئیات پرداخت
- SumAmount
  جمع پرداخت
- CustomerId
  شناسه مشتری

---

## متدها

---

## فرایند ها

### after Order

بحث پنل قرارداد را میتوان جز از بحث مالی در نظر بگیریم
در این فرایند بعد از ثبت سفارش در ابتدا به بررسی کانترکت می پردازیم و به این موضوع می پردازیم که مشتری دارای قرارداد هست یا خیر اگر هست قرارداد اعمال می شود و در غیر این صورت قرارداد پیشفرض اجرا می شود.

در زمانی نماینده خود ثبت سفارش انجام دهد دو مبلغ دریافت می کند که یک حق نمایندگی و دو خدمات نمایندگی است برای محاسبه خدمات نمایندگی با توجه به مبلغی که خود نماینده موقع ثبت سفارش وارد میکند محاسبه می شود و این مبلغ اگر کمتر از 5 هزار تومان باشد مبلغ 500 تومان و اگر مبلغ بالای 5 هزار تومان باشد ده درصد آن  به عنوان سهم پستکس از  ارزش افزوده نمایندگی کسر می شود 
هزینه های ما شامل یک قیمت خرید و یک قیمت فروش می باشد و از اختلاف این دو عدد سود شرکت را به دست می آوریم
بعصی از این آیتم ها در پرداخت آن ها تاخیر و تقدم دارند و وابسته به استاتوس های آن ها می باشند و فرایند پرداخت به شخص مورد نظر تا فعالیت انجام نگیرد اتفاق نمی افتد ، مانند توزیع تا فرایند توزیع انجام نگیرد هزینه ای پرداخت نمی شود
در اکانتینگ ما نیاز به ثبت ریز تراکنش ها داریم که در جدول زیر به بررسی آن ها پرداخته ایم
|Accounting Item     | Descreption|
|:-------- | :------:|
|type      | Wallet charging ،Order |
|Date      | Order registration date |
|Transaction number      | Transaction number  |
|Customer      |Agent , Customer |
|Parcel      | parcel type  |
|contract      | contract type (default or custom) |
|port      | Which bank |

---

## دیاگرام ها

[بعد از ثبت سفارش](Diagrams/AfterOrderAccounting.drawio)

![بعد از ثبت سفارش](imgs/AfterOrderAccounting.png)

[موجودیت ها](Diagrams/AccountingERD.drawio)

![موجودیت ها](imgs/AccountingEntity.png)
